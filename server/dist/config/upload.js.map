{"version":3,"sources":["../../src/config/upload.js"],"names":["storage","diskStorage","destination","req","file","callback","filename","originalname","upload","single"],"mappings":";;;;;;AAOA;;;;;;AAGA,IAAMA,UAAW,iBAAOC,WAAP,CAAmB;AAEhCC,eAFgC,uBAEpBC,GAFoB,EAEfC,IAFe,EAETC,QAFS,EAEC;AAC7BA,iBAAS,IAAT,EAAe,WAAf;AACH,KAJ+B;AAKhCC,YALgC,oBAKtBH,GALsB,EAKjBC,IALiB,EAKXC,QALW,EAKD;;AAE3B;AACA;AACA;AACAA,iBAAS,IAAT,EAAeD,KAAKG,YAApB;AACH;AAX+B,CAAnB,CAAjB,C,CAVA;;;;;;;AAwBA,IAAMC,SACF,sBAAO,EAAER,SAAUA,OAAZ,EAAP,EACKS,MADL,CACY,OADZ,CADJ,C,CAEyB;;;kBAGVD,M","file":"upload.js","sourcesContent":["/**\r\n *\r\n * Multer configuration\r\n * @see https://github.com/expressjs/multer\r\n *\r\n */\r\n\r\nimport multer from 'multer'\r\n\r\n\r\nconst storage =  multer.diskStorage({\r\n\r\n    destination(req, file, callback) {\r\n        callback(null, './uploads')\r\n    },\r\n    filename (req, file, callback) {\r\n\r\n        // when writing the name of uploaded file\r\n        // pass the name to req body image\r\n        //req.body.image = file.originalname\r\n        callback(null, file.originalname)\r\n    }\r\n})\r\n\r\nconst upload =\r\n    multer({ storage : storage})\r\n        .single('image') // image is the name of the multipart element in the \"form\" Eg \"<input type file>\"\r\n\r\n\r\nexport default upload\r\n\r\n\r\n"]}